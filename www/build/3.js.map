{"version":3,"sources":["../../src/pages/opinion-list/opinion-list.module.ts","../../src/pages/opinion-list/opinion-list.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACC;AAUjD;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QARjC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,sEAAe;aAChB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,sEAAe,CAAC;aAC1C;SACF,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;ACZQ;AACgC;AAClB;AACV;AACa;AAO3D;IASE,yBAAmB,OAAsB,EAAS,SAAoB,EAC5D,WAAwB,EAAU,YAA0B,EAC7D,SAA0B;QAFhB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAC5D,gBAAW,GAAX,WAAW,CAAa;QAAU,iBAAY,GAAZ,YAAY,CAAc;QAC7D,cAAS,GAAT,SAAS,CAAiB;QATnC,UAAK,GAAG,EAAE,CAAC;QACH,WAAM,GAAQ,EAAE,CAAC;QACzB,UAAK,GAAG,EAAE,CAAC;QACX,WAAM,GAAG,IAAI,CAAC;QACd,UAAK,GAAG,KAAK,CAAC,CAAE,MAAM;QACtB,SAAI,GAAQ,EAAE,CAAC;IAMf,CAAC;IAED,wCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;IAChD,CAAC;IAED,yCAAe,GAAf;QACE,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACnB,CAAC;IAED,QAAQ;IACR,iCAAO,GAAP;QAAA,iBAmCC;QAlCC,IAAI,GAAG,GAAG;YACR,UAAU,EAAE,YAAY,CAAC,KAAK;YAC9B,IAAI,EAAE,CAAC;YACP,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,EAAE;YACX,IAAI,EAAE,MAAM;YACZ,IAAI,EAAE,CAAC,CAAC,yCAAyC;SAClD,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,aAAG;YAC1C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;YAC3B,KAAI,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;YAC7B,MAAM,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAC3B,KAAK,GAAG;oBACN,YAAY,CAAC,KAAK,GAAG,OAAO,CAAC;oBAC7B,YAAY,CAAC,IAAI,GAAG,OAAO,CAAC;oBAC5B,KAAK,CAAC;gBACR,KAAK,GAAG;oBACN,YAAY,CAAC,KAAK,GAAG,MAAM,CAAC;oBAC5B,YAAY,CAAC,IAAI,GAAG,QAAQ,CAAC;oBAC7B,KAAK,CAAC;gBACR,KAAK,GAAG;oBACN,YAAY,CAAC,KAAK,GAAG,QAAQ,CAAC;oBAC9B,YAAY,CAAC,IAAI,GAAG,OAAO,CAAC;oBAC5B,KAAK,CAAC;gBACR,KAAK,GAAG;oBACN,YAAY,CAAC,KAAK,GAAG,UAAU,CAAC;oBAChC,YAAY,CAAC,IAAI,GAAG,OAAO,CAAC;oBAC5B,KAAK,CAAC;gBACR;oBACE,KAAK,CAAC;YACV,CAAC;YACD,KAAI,CAAC,KAAK,GAAG,YAAY,CAAC,KAAK,CAAC;QAClC,CAAC,CAAC;IACJ,CAAC;IAED,MAAM;IACN,qCAAW,GAAX,UAAY,IAAI;QACd,IAAI,IAAI,GAAG,CAAC,CAAC;QACb,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC5C,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;gBACvD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACzB,IAAI,GAAG,CAAC,CAAC;YACX,CAAC;QACH,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;YACd,oBAAoB;YACpB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,CAAC;IACH,CAAC;IAED,IAAI;IACJ,kCAAQ,GAAR;QACE,oBAAoB;QACpB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC;YACvB,wCAAwC;YACxC,qCAAqC;YACrC,IAAI;YACJ,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3C,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC;YAC7B,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3C,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;YAC9B,CAAC;QACH,CAAC;IACH,CAAC;IAED,MAAM;IACN,iCAAO,GAAP;QACE,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;IAC1C,CAAC;IAED,IAAI;IACJ,gCAAM,GAAN,UAAO,IAAI;QACT,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;QACnB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;IACjD,CAAC;IAED,MAAM;IACN,oCAAU,GAAV;QACE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACtC,+BAA+B;QAC/B,sDAAsD;QACtD,SAAS;QACT,iFAAiF;QACjF,IAAI;IACN,CAAC;IAED,MAAM;IACN,sCAAY,GAAZ;QAAA,iBA8BC;QA7BC,IAAI,GAAG,GAAG;YACR,UAAU,EAAE,YAAY,CAAC,KAAK;YAC9B,UAAU,EAAE,EAAE;SACf,CAAC;QACF,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAClC,KAAK,EAAE,qDAAqD;YAC5D,QAAQ,EAAE,aAAa;YACvB,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE,cAAI;oBAEb,CAAC;iBACF,EAAE;oBACD,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE,cAAI;wBACX,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,aAAG;4BACpC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;4BACjB,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;gCAClB,KAAI,CAAC,YAAY,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;gCACnD,KAAI,CAAC,OAAO,EAAE,CAAC;4BACjB,CAAC;wBACH,CAAC,CAAC;oBACJ,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAElB,CAAC;IAED,MAAM;IACN,sCAAY,GAAZ;QACE,IAAI,KAAK,GAAU,IAAI,uDAAK,EAAE,CAAC;QAC/B,KAAK,CAAC,WAAW,EAAE,CAAC;IACtB,CAAC;IA3JU,eAAe;QAJ3B,wEAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;WACG;SACjC,CAAC;oKAUsE;YAC/C,sEAAmC,EAAY;YAClD,YAAe;OAXxB,eAAe,CA6J3B;IAAD,CAAC;AAAA;SA7JY,eAAe,gB","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OpinionListPage } from './opinion-list';\n\n@NgModule({\n  declarations: [\n    OpinionListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(OpinionListPage),\n  ],\n})\nexport class OpinionListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/opinion-list/opinion-list.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\nimport { HomeService } from '../../service/HomeService';\nimport { GoCom } from \"../../lib/gocom/gocom\";\nimport { ToastService } from '../../service/toast.service';\n\n@IonicPage()\n@Component({\n  selector: 'page-opinion-list',\n  templateUrl: 'opinion-list.html',\n})\nexport class OpinionListPage {\n\n  title = \"\";\n  private checks: any = [];\n  items = [];\n  isflag = true;\n  isAll = false;  //是否全选\n  role: any = {};\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private homeService: HomeService, private toastService: ToastService,\n    public alertCtrl: AlertController) {\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad OpinionListPage');\n  }\n\n  ionViewCanEnter() {\n    this.getList();\n    this.checks = [];\n  }\n\n  //获取列表数据\n  getList() {\n    let obj = {\n      user_token: localStorage.token,\n      page: 1,\n      size: 9999,\n      session: 10, //届次\n      year: '2019',//年度\n      type: 1 //考评类型,1 专委会意见 2 界别意见 3 活动小组意见 4 主席会议审议意见\n    };\n    this.homeService.getMemberList(obj).then(res => {\n      console.log(res);\n      this.items = res.data.info;\n      this.role = res.user.roleMap;\n      switch (this.role.evalType) {//考评类型,1 专委会意见 2 界别意见 3 活动小组意见 4 主席会议审议意见\n        case \"1\":\n          localStorage.title = '专委会意见';\n          localStorage.sign = '主任签字：';\n          break;\n        case \"2\":\n          localStorage.title = '界别意见';\n          localStorage.sign = '召集人签字：';\n          break;\n        case \"3\":\n          localStorage.title = '活动小组意见';\n          localStorage.sign = '组长签字：';\n          break;\n        case \"4\":\n          localStorage.title = '主席会议审议意见';\n          localStorage.sign = '主席签字：';\n          break;\n        default:\n          break;\n      }\n      this.title = localStorage.title;\n    })\n  }\n\n  //人员选择\n  checkChange(item) {\n    let flag = 0;\n    for (let i = 0; i < this.checks.length; i++) {\n      if (item.member.userId == this.checks[i].member.userId) {\n        this.checks.splice(i, 1);\n        flag = 1;\n      }\n    }\n    if (flag == 0) {\n      // item.check = true\n      this.checks.push(item);\n    }\n  }\n\n  //全选\n  checkAll() {\n    // this.checks = [];\n    if (this.isAll == true) {\n      // for(let i=0;i<this.items.length;i++){\n      //   this.checks.push(this.items[i]);\n      // }\n      for (let i = 0; i < this.items.length; i++) {\n        this.items[i].check = true;\n      }\n    } else {\n      for (let i = 0; i < this.items.length; i++) {\n        this.items[i].check = false;\n      }\n    }\n  }\n\n  //委托审批\n  entrust() {\n    console.log('委托审批');\n    this.navCtrl.push('OpinionEntrustPage');\n  }\n\n  //编辑\n  toEdit(item) {\n    console.log(item);\n    item.type = 'edit';\n    this.navCtrl.push('OpinionEvaluatePage', item);\n  }\n\n  //批量审批\n  batchClick() {\n    console.log(this.checks);\n    this.navCtrl.push('OpinionBatchPage');\n    // if(this.checks.length == 0){\n    //   this.toastService.presentToast('请选择人员','bottom');\n    // }else{\n    //   this.navCtrl.push('OpinionEvaluatePage', {type:'batch',checks:this.checks});\n    // }\n  }\n\n  //考评确认\n  confirmClick() {\n    let obj = {\n      user_token: localStorage.token,\n      reviewerId: ''\n    };\n    const alert = this.alertCtrl.create({\n      title: '<img class=\"alert-icon\" src=\"./assets/imgs/ok.png\">',\n      subTitle: '考评确认后将不可再更改',\n      buttons: [\n        {\n          text: '取消',\n          handler: data => {\n\n          }\n        }, {\n          text: '确认',\n          handler: data => {\n            this.homeService.confirm(obj).then(res => {\n              console.log(res);\n              if (res.code == 0) {\n                this.toastService.presentToast('考评确认成功', 'bottom');\n                this.getList();\n              }\n            })\n          }\n        }\n      ]\n    });\n    alert.present();\n\n  }\n\n  //关闭应用\n  closeWindows() {\n    let gocom: GoCom = new GoCom();\n    gocom.closeWindow();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/opinion-list/opinion-list.ts"],"sourceRoot":""}