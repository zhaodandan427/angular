{"version":3,"sources":["../../src/pages/duty-info/duty-info.module.ts","../../src/pages/duty-info/duty-info.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DutyInfoPage } from './duty-info';\n\n@NgModule({\n  declarations: [\n    DutyInfoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DutyInfoPage),\n  ],\n})\nexport class DutyInfoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/duty-info/duty-info.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, Platform, ModalController, AlertController } from 'ionic-angular';\nimport { HomeService } from '../../service/HomeService';\n\n/**\n * Generated class for the DutyInfoPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-duty-info',\n  templateUrl: 'duty-info.html',\n})\nexport class DutyInfoPage {\n  tabs = '1';\n  param: any = {}; //页面传参\n  records = []; //成绩列表\n  record = ''; //成绩_填写项\n  awards = []; //奖励列表\n  award = ''; //奖励_填写项\n  tel = '';\n  isEval = 0; //是否已评审  0未评审  1已评审\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public modalCtrl: ModalController, public alertCtrl: AlertController,\n    private homeService: HomeService) {\n    this.param = this.navParams.data;//接收参数\n    this.record = this.param.othersInfo.section[this.param.othersInfo.section.length - 1].key;\n    this.award = this.param.awardInfo.section[this.param.awardInfo.section.length - 1].key;\n    this.isEval = this.param.isEval;\n    this.tel = this.param.telNumber;\n    if (this.param.othersInfo.section.length > 1) {\n      this.param.othersInfo.section.pop();\n      this.records = this.param.othersInfo.section;\n      console.log(this.records);\n    }\n    if (this.param.awardInfo.section.length > 1) {\n      this.param.awardInfo.section.pop();\n      this.awards = this.param.awardInfo.section;\n      console.log(this.records);\n    }\n\n    console.log(this.param);\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad DutyInfoPage');\n  }\n\n  //卡片详情\n  openModal(flag, title) {\n    let modal = this.modalCtrl.create('DutyContentPage', { list: flag, title: title });\n    modal.present();\n  }\n\n  //历史评价\n  toHistory() {\n    this.navCtrl.push('DutyHistoryPage');\n  }\n\n  //联系我们\n  telUs() {\n    const alert = this.alertCtrl.create({\n      title: '如有疑问可联系我们',\n      subTitle: this.tel,\n      buttons: [\n        {\n          text: '拨打电话',\n          handler: data => {\n            window.location.href = 'tel:' + this.tel;\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  //确认提交\n  confirmPost() {\n    let alert: any;\n    let obj = {};\n    switch (this.tabs) {\n      case \"1\":\n        alert = this.alertCtrl.create({\n          title: '<img class=\"alert-icon\" src=\"./assets/imgs/ok.png\">',\n          subTitle: '【基础履职】部分已经提交，主席会议、常委会会议、秘书长会议组成人员请继续确认【职务履职】部分，其他委员请继续确认【其它履职】部分。',\n          buttons: [\n            {\n              text: '下一步',\n              handler: data => {\n                obj = {\n                  user_token: localStorage.token,\n                  dutyData: '',\n                  dutyType: 1 //考评类型,1 专委会意见 2 界别意见 3 活动小组意见 4 主席会议审议意见\n                };\n                this.confirmDuty(obj, 1);\n              }\n            }\n          ]\n        });\n        break;\n      case \"2\":\n        alert = this.alertCtrl.create({\n          title: '<img class=\"alert-icon\" src=\"./assets/imgs/ok.png\">',\n          subTitle: '【职务履职】部分已经提交，请您继续确认【其他履职】部分',\n          buttons: [\n            {\n              text: '下一步',\n              handler: data => {\n                obj = {\n                  user_token: localStorage.token,\n                  dutyData: '',\n                  dutyType: 2 //考评类型,1 专委会意见 2 界别意见 3 活动小组意见 4 主席会议审议意见\n                };\n                this.confirmDuty(obj, 2);\n              }\n            }\n          ]\n        });\n        break;\n      case \"3\":\n        alert = this.alertCtrl.create({\n          title: '<img class=\"alert-icon\" src=\"./assets/imgs/ok.png\">',\n          subTitle: '【其他履职】部分已经提交，请您继续确认【奖励信息】部分',\n          buttons: [\n            {\n              text: '下一步',\n              handler: data => {\n                obj = {\n                  user_token: localStorage.token,\n                  dutyData: this.record,\n                  dutyType: 3 //考评类型,1 专委会意见 2 界别意见 3 活动小组意见 4 主席会议审议意见\n                };\n                this.confirmDuty(obj, 3);\n              }\n            }\n          ]\n        });\n        break;\n      case \"4\":\n        alert = this.alertCtrl.create({\n          title: '<img class=\"alert-icon\" src=\"./assets/imgs/ok.png\">',\n          subTitle: '您本年度的委员述职工作已完成，<br>感谢您的支持！ <br>感谢您在' + this.param.year + '年度的辛勤履职！ <br>以上履职结果,将纳入您的履职档案。',\n          buttons: [\n            {\n              text: '完成',\n              handler: data => {\n                obj = {\n                  user_token: localStorage.token,\n                  dutyData: this.award,\n                  dutyType: 4 //考评类型,1 专委会意见 2 界别意见 3 活动小组意见 4 主席会议审议意见\n                };\n                this.confirmDuty(obj, 4);\n              }\n            }\n          ]\n        });\n        break;\n\n      default:\n        break;\n    }\n\n    alert.present();\n  }\n\n  //履职确认请求\n  confirmDuty(obj, flag) {\n    this.homeService.commitinfo(obj).then(res => {\n      console.log(res);\n      switch (flag) {\n        case 1:\n          this.param.basicInfo.isConfirm = 1;\n          this.tabs = '2';\n          break;\n        case 2:\n          this.param.positionInfo.isConfirm = 1;\n          this.tabs = '3';\n          break;\n        case 3:\n          this.param.othersInfo.isConfirm = 1;\n          this.tabs = '4';\n          break;\n        case 4:\n          // this.isEval = 1;\n          this.param.awardInfo.isConfirm = 1;\n          break;\n        default:\n          break;\n      }\n    })\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/duty-info/duty-info.ts"],"sourceRoot":""}